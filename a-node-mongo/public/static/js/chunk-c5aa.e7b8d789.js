(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c5aa"],{"D+s9":function(e,t,i){"use strict";i.d(t,"b",function(){return o}),i.d(t,"c",function(){return r}),i.d(t,"d",function(){return s}),i.d(t,"a",function(){return a});var n=i("t3Un");function o(e){return Object(n.a)({url:"/nodejs/permission?"+e,method:"get"})}function r(e){return Object(n.a)({url:"/nodejs/permission",method:"post",data:e})}function s(e){return Object(n.a)({url:"/nodejs/permission",method:"post",data:e})}function a(e){return Object(n.a)({url:"/nodejs/permission",method:"post",data:e})}},"S/kz":function(e,t,i){"use strict";i.r(t);var n=i("gDS+"),o=i.n(n),r=i("D+s9"),s={filters:{permission_filter:function(e){}},data:function(){return{list:null,listLoading:!0,editFormBox:!1,addFormBox:!1,multipleSelection:[],rules:{permission_name:[{validator:function(e,t,i){if(""==t)return i(new Error("Please input Permission Name"));i()},trigger:"blur"}],permission:[{validator:function(e,t,i){if(t<1)return i(new Error("Permission ID must be int"));i()},trigger:"blur"}]},editForm:{permission:"",permission_name:""},addForm:{permission:"",permission_name:""},currPage:1,prePageNum:10,count:0,whereJson:{},sortJson:{}}},created:function(){this.getData()},methods:{getData:function(){var e=this;e.listLoading=!0;var t="action=findData&whereJson="+o()(e.whereJson)+"&sortJson="+o()(e.sortJson)+"&prePageNum="+e.prePageNum+"&currPage="+e.currPage;Object(r.b)(t).then(function(t){e.list=t.rows,e.currPage=t.currPage,e.prePageNum=t.prePageNum,e.count=t.count,e.listLoading=!1})},selectionChange:function(e){this.multipleSelection=e},sortChange:function(e){var t={};t[e.prop]="descending"==e.order?-1:1,this.sortJson=t,this.getData()},handleSizeChange:function(e){this.prePageNum=e,this.getData()},handleCurrentChange:function(e){this.currPage=e,this.getData()},view:function(e){},edit:function(e){this.$set(this.editForm,"permission",e.permission),this.$set(this.editForm,"permission_name",e.permission_name+""),this.editFormBox=!0},del:function(e){var t=this;t.$confirm("delete?","Delete",{confirmButtonText:"CONFIRM",cancelButtonText:"CANCEL",type:"warning"}).then(function(){var i={permission:{$in:[e.permission]}},n="action=delData&dataJson="+o()(i);Object(r.a)(n).then(function(e){"Success"==e&&(t.addFormBox=!1,t.getData())})}).catch(function(){})},btn_add:function(){this.addFormBox=!0},btn_del:function(){},addSubmitForm:function(){var e=this;this.$refs.addForm.validate(function(t){if(!t)return!1;e.addForm.permission=Number(e.addForm.permission);var i=[{permission:e.addForm.permission,permission_name:e.addForm.permission_name}],n="action=insertData&dataArr="+o()(i);Object(r.c)(n).then(function(t){"Success"==t&&(e.addFormBox=!1,e.getData())})})},addCancelSubmit:function(){this.$refs.addForm.resetFields(),this.addFormBox=!1},editSubmitForm:function(){var e=this;this.$refs.editForm.validate(function(t){if(!t)return!1;e.editForm.permission=Number(e.editForm.permission);var i={permission:e.editForm.permission},n={permission_name:e.editForm.permission_name},s="action=updateData&whereJson="+o()(i)+"&updateJson="+o()(n);Object(r.d)(s).then(function(t){"Success"==t&&(e.editFormBox=!1,e.getData())})})},editCancelSubmit:function(){this.$refs.editForm.resetFields(),this.editFormBox=!1}}},a=i("KHd+"),m=Object(a.a)(s,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticStyle:{"margin-bottom":"10px"}},[i("el-button-group",[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.btn_add()}}},[e._v("Add")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"525px"},attrs:{data:e.list,"element-loading-text":"Loading",border:"",stripe:"","highlight-current-row":"","tooltip-effect":"dark",size:"medium"},on:{"selection-change":e.selectionChange,"sort-change":e.sortChange}},[i("el-table-column",{attrs:{fixed:"left",type:"selection",width:"40"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"permission",label:"Permission ID",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"permission_name",label:"Permission Name",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"Operation",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("router-link",{attrs:{to:"/user/function/"+t.row.permission}},[i("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-view"}},[e._v(" ")])],1),e._v(" "),i("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-edit"},on:{click:function(i){e.edit(t.row)}}},[e._v(" ")]),e._v(" "),i("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-delete"},on:{click:function(i){e.del(t.row)}}},[e._v(" ")])]}}])})],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.currPage,"page-sizes":[10,50,100,500,1e3],"page-size":e.prePageNum,layout:"prev, pager, next, jumper, total, sizes",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),i("el-dialog",{attrs:{title:"Add",visible:e.addFormBox,width:"600px"},on:{"update:visible":function(t){e.addFormBox=t}}},[i("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"150px"}},[i("el-form-item",{attrs:{label:"Permission ID",prop:"permission"}},[i("el-input",{model:{value:e.addForm.permission,callback:function(t){e.$set(e.addForm,"permission",t)},expression:"addForm.permission"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Permission Name",prop:"permission_name"}},[i("el-input",{model:{value:e.addForm.permission_name,callback:function(t){e.$set(e.addForm,"permission_name",t)},expression:"addForm.permission_name"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.addSubmitForm}},[e._v("SUBMIT")]),e._v(" "),i("el-button",{on:{click:e.addCancelSubmit}},[e._v("Cancel")])],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"Edit",visible:e.editFormBox,width:"600px"},on:{"update:visible":function(t){e.editFormBox=t}}},[i("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"150px"}},[i("el-form-item",{attrs:{label:"Permission ID",prop:"permission"}},[i("el-input",{attrs:{disabled:""},model:{value:e.editForm.permission,callback:function(t){e.$set(e.editForm,"permission",t)},expression:"editForm.permission"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Permission Name",prop:"permission_name"}},[i("el-input",{model:{value:e.editForm.permission_name,callback:function(t){e.$set(e.editForm,"permission_name",t)},expression:"editForm.permission_name"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.editSubmitForm}},[e._v("SUBMIT")]),e._v(" "),i("el-button",{on:{click:e.editCancelSubmit}},[e._v("Cancel")])],1)],1)],1)],1)},[],!1,null,null,null);m.options.__file="permission.vue";t.default=m.exports}}]);